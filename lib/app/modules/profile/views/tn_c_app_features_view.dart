import 'package:flutter/material.dart';
import 'package:flutter_screenutil/flutter_screenutil.dart';

import 'package:get/get.dart';
import 'package:watowear_chloe/app/modules/profile/controllers/settings_controller.dart';
import 'package:watowear_chloe/common/app_colors.dart';

class TnCAppFeaturesView extends GetView<SettingsController> {
  const TnCAppFeaturesView({super.key});
  @override
  Widget build(BuildContext context) {
    Get.put(SettingsController());

    return Scaffold(
      backgroundColor: AppColors.bgColor,
      appBar: AppBar(
        backgroundColor: AppColors.bgColor,
        title: Text(
          'T&C App Features',
          style: TextStyle(
            color: Colors.black,
            fontFamily: 'Comfortaa',
            fontWeight: FontWeight.w500,
            fontSize: 20.sp,
          ),
        ),
        scrolledUnderElevation: 0,
      ),
      body: SafeArea(
        child: SingleChildScrollView(
          child: Column(
            children: [
              Padding(
                padding: EdgeInsets.symmetric(horizontal: 10.w),
                child: Obx(() {
                  return Row(
                    spacing: 1.w,
                    children: [
                      controller.current.value > 0 ? GestureDetector(
                          onTap: () {
                            controller.previousTnC(controller.current.value);
                          },
                          child: Icon(
                            Icons.arrow_back_ios,
                            size: 20.r,
                            color: Color(0xFF111111),
                          ),
                        ) : SizedBox(width: 14.w,),

                      TnCText(
                        text: controller.current.value == 0
                            ?
                        'TERMS & CONDITIONS\n\nSection 1: Description of Services and Features of the WATOWEAR Application\n\nWATOWEAR is a digital fashion assistant application designed to help users manage their wardrobe, receive personalized styling recommendations, and shop with intentionality. The application offers a hybrid of artificial intelligence, human-centered design, and data-informed logic to enhance the user’s experience of personal style.\n\nThe following section outlines the features provided by the WATOWEAR mobile application, the scope of use permitted, and the legal framework governing access to and interaction with these services.\n\n1.1. General Functionality\nThe WATOWEAR application allows registered users to upload and organize images of their personal wardrobe, create and manage a digital closet, receive daily or event-based outfit suggestions, plan upcoming outfits, and purchase clothing and accessories from curated third-party or WATOWEAR-partnered vendors. The app is intended to act as a personalized style companion, supporting mindful fashion consumption and fostering a positive relationship between the user and their existing wardrobe.\n\nUsers may access the application via compatible mobile devices, subject to availability in their country or region. WATOWEAR may, at its sole discretion, restrict or expand the availability of certain features based on subscription status, platform limitations, or regulatory requirements.\n\n1.2. Wardrobe Management and Image Uploads\nUsers may upload photos of clothing items they own to create a digital inventory of their wardrobe. These uploads can be performed through an in-app camera function or by importing images from the user’s device gallery. Upon upload, users are invited to tag and categorize items manually by providing metadata such as garment type, color, fabric, season, and occasion. Where applicable, WATOWEAR may offer automated background removal, garment detection, and tagging powered by machine learning models. Users acknowledge that these features may not always operate with perfect accuracy and are offered as-is.\n\nAll wardrobe images and associated metadata are stored securely in the cloud and remain the property of the user. However, by uploading such content, users grant WATOWEAR a non-exclusive, royalty-free, worldwide license to use, store, process, analyze, and display their wardrobe content for the sole purpose of enabling and improving the application’s core services, including outfit generation, usage statistics, personalization, and wardrobe insights.\n\nWATOWEAR shall not sell, distribute, or disclose any wardrobe content outside the application context without the user\'s prior written consent, except as necessary for legal compliance or service operation under GDPR and applicable data privacy laws.'
                            :
                        controller.current.value == 1
                            ?
                        '1.3. Personalized Outfit Suggestions\n\nThe core value of WATOWEAR lies in its ability to generate daily outfit suggestions tailored to each user\'s wardrobe, preferences, and contextual needs. These suggestions are delivered through a combination of rule-based logic, personalization inputs, and AI-powered algorithms trained to recommend complementary or combinations based on garment data, weather conditions, calendar inputs, and stated style preferences.\n\nOutfit recommendations are dynamic and may evolve over time as the user interacts with the application, provides feedback on previous outfits, or updates their wardrobe data. Users can save, modify, or discard suggestions and may provide positive or negative feedback (\'likes,' 'dislikes,\' or \'not my style\' inputs) to refine future recommendations. The application is continuously optimized through this feedback loop to improve contextual relevance and accuracy.\n\nWhile every effort is made to ensure high-quality results, WATOWEAR does not guarantee that outfit suggestions will meet the expectations of every user. All styling outputs are for informational and inspirational purposes only. The application does not replace professional styling services or personalized human consultation unless otherwise stated.\n\n1.4. Profile Personalization and Style Preferences\n\nTo deliver personalized content, WATOWEAR allows users to build a style profile containing optional data such as name, gender identity, body measurements, body type, style preferences, favorite brands, budget considerations, and fashion goals. Users may update their profile at any time. The accuracy of recommendation data is directly tied to the completeness and accuracy of the style profile provided.\n\nBy completing this profile, users consent to the use of this data for the purpose of delivering contextual recommendations, measuring the effectiveness of suggested outfits, and generating trend-driving insights. The app may also utilize anonymized and aggregated data to improve the underlying technology and recommendation engine.\n\nNo personal profile data is shared or sold to third parties. Full details of data handling practices are outlined in WATOWEAR’s Privacy Policy.\n\n1.5. Shopping Experience and Commercial Transactions\n\nWATOWEAR includes integrated e-commerce functionality that allows users to browse, purchase, and save clothing and accessory items that are either directly sold by WATOWEAR or offered through third-party brand partnerships and affiliate arrangements. All product listings displayed in the application are curated to complement the user’s existing wardrobe and may be recommended based on individual style preferences, shopping behavior, or wardrobe gaps.\n\nWhere applicable, WATOWEAR may receive commissions from affiliated vendors when users complete purchases through these referral links or embedded ‘shop the look’ features. This monetization model does not influence the neutrality of wardrobe or outfit suggestions. Recommendations are always based on styling logic and not on promotional agreements unless explicitly disclosed.\n\nUsers acknowledge that third-party product listings are subject to availability, pricing, delivery conditions, and terms set by the respective merchant. WATOWEAR is not responsible for the content, accuracy, or legality of third-party products, nor for the completion or satisfaction of any transactions made outside the WATOWEAR checkout experience.\n\nWhen purchases are made directly within the app, the user enters into a binding sales contract with WATOWEAR or its designated vendors under the terms specified in WATOWEAR’s Terms and Return Policies, accessible at the time of checkout.'
                            :
                        controller.current.value == 2
                            ?
                        "Section 2. User Content and Intellectual Property Rights\n\n2.1. Ownership of User Content\n\nBy using WATOWEAR, users may upload, submit, store, or otherwise make available certain content, including but not limited to wardrobe images, style information, outfit histories, clothing metadata, personal styling notes, user-saved looks, user-submitted fashion comments, and feedback collectively ('User Content').\n\nAll intellectual property rights in and to User Content remain entirely with the user. However, WATOWEAR shall retain a limited, non-exclusive, royalty-free, worldwide license to use, host, and display such User Content within the application for the purposes of providing, maintaining, and improving the service. This license enables WATOWEAR to process, analyze, and utilize uploaded data to generate outfit recommendations and improve AI accuracy over time. The application may transform or filter such data for the sole purpose of maintaining user functionality and performance standards.\n\nThe rights granted to WATOWEAR for User Content remain strictly limited to the following:\n- Processing personalized outfit generation.\n- Creating anonymized usage insights.\n- Using aggregated datasets for product improvement and performance optimization.\n\nWATOWEAR will never publish, commercialize, or publicly share user-uploaded wardrobe photos or voice interactions without explicit and informed consent.\n\n2.2. Responsibility for User Content\n\nUsers are solely responsible for the accuracy, legality, and originality of their User Content. Users must not upload or display any content that infringes on third-party rights or violates applicable laws or community standards. WATOWEAR reserves the right to remove any User Content that, in its sole discretion, violates these terms, infringes on third-party rights, or threatens the integrity or usability of the platform.\n\nSection 3. Privacy, Data Protection, and AI Disclosure\n\n3.1. Data Protection and GDPR Compliance\n\nWATOWEAR complies with the General Data Protection Regulation (GDPR) (EU) 2016/679 and all applicable global data privacy laws. The personal data we process while using the app—including names, emails, photos, style preferences, measurements, and wardrobes—are collected and processed with the user’s consent to deliver the service’s intended functionality.\n\nAll data is stored securely using industry-standard encryption protocols to prevent unauthorized access. WATOWEAR does not sell or trade personal data. In cases where anonymized data is shared with external research or analytics partners, the partners are contractually bound by data protection agreements.\n\nUsers have the right to access, modify, export, or delete their personal data at any time. You may exercise these rights by contacting contact@WATOWEAR.com or through in-app settings where applicable.\n\n3.2. AI & Automated Decision-Making\n\nCertain features of WATOWEAR rely on automated systems, including AI and machine learning models. These systems are designed to:\n- Classify clothing items and styles (e.g., type, label, category, texture).\n- Generate personalized outfit suggestions based on user data.\n- Adjust recommendations through active user interaction via feedback.\n- Recommend products that align with your wardrobe and preferences.\n\nWhile these technologies are developed with care and transparency, WATOWEAR acknowledges that AI-generated outfit suggestions, not being human advice, may be subject to limitations, inaccuracies, or incompleteness.\n\nCommon inaccuracies in tagging or recommendations include:\n- Potential stylistic bias due to model training data.\n- Technical errors or misclassifications.\n\nWATOWEAR is committed to transparency and fairness in AI. We do not use AI models that engage in facial or significant affective user profiling. Human oversight, not fully automated profiling, is used for any styling, recommendation, or fashion outputs.\n\n3.3. Use of Voice Data\n\nUsers may engage with the in-app assistant ('Chloé') by voice or text. Voice input interactions are analyzed transiently to enhance user engagement and service personalization. WATOWEAR does not store or repurpose raw voice data unless necessary for contextual improvement. Users will be informed and provided with clear consent options.\n\nAll stored interactions are governed under the same data privacy and user rights protections as outlined above."
                            :
                        controller.current.value == 3
                            ?
                        "Section 4: Purchases, Pricing, and Refunds\n\n4.1. In-App Purchases and Subscriptions\n\nWATOWEAR offers users access to both free and paid features. Premium features are unlocked through one-time or recurring fees via in-app purchases (IAP) or subscription-based models. Paid features—such as unlimited uploads, enhanced AI styling, real-time wardrobe insights, and exclusive recommendations—are made available via subscription plans and include non-transferable rights for subscriber use only. Subscription pricing models include but are not limited to:\n\n- Subscription Plans: Monthly or annual auto-renewing memberships.\n- One-Time Purchases: Single-feature or limited style customization boosts.\n- Digital Products: Fashion insights, style visualizations, lookbooks, closet packs, or unlimited slots.\n- Shopping Purchases: Clothing and accessories offered for sale directly by WATOWEAR or through third-party listings.\n\nUsers can view current subscription options and pricing transparently within the app’s 'Plans' or 'Subscription' page. Prices may vary depending on regional app store pricing models. Fees and payments include all taxes and transaction costs as mandated by applicable law.\n\nIn-app purchases are processed securely through Apple’s App Store or Google Play Billing, depending on the user’s platform. In such cases, billing renewals and cancellations must be managed directly through the user’s App Store or Google Play account settings.\n\n4.2. Auto-Renewals and Cancellations\n\nIf you subscribe to a WATOWEAR plan, your subscription will automatically renew at the end of each billing period unless canceled prior to renewal. Users can cancel renewals anytime through their device’s subscription management settings. Cancellation takes effect at the end of the current cycle in which the user opts out. Access to premium features continues until the billing period concludes; no partial refunds apply. Deleting the app from your device does not cancel your subscription. No prorated refunds will be provided for unused time within an active billing period unless required by law.\n\n4.3. E-Commerce & Shopping Transactions\n\nWATOWEAR may offer curated items for sale directly within the app through integrated shopping experiences. These may include:\n- Stocked inventory by WATOWEAR.\n- Sourced through affiliate links that redirect to third-party retailers integrated via partner APIs (e.g., Shopify, WooCommerce, or Fashion Brand integrations).\n- Items sold directly by WATOWEAR.\n\nFor items sold directly by WATOWEAR, the full terms of sale, including payment, invoicing, shipping, returns/refunds, policies, and warranties, will be presented at the point of checkout. Orders are subject to country of sale, shipping details, and other legitimate transaction conditions.\n\nFor affiliate purchases (via external brand partners), WATOWEAR acts only as a referrer and assumes no responsibility for the seller, delivery, or product quality. Any such purchases are governed by the terms and conditions of the respective merchant.\n\nWATOWEAR may not process information on completed affiliate purchases and thus cannot confirm the accuracy of product recommendations or the user’s price fit.\n\n4.4. Refunds and Withdrawal Rights\n\nUnder EU law, consumers have the right to withdraw from a digital subscription within fourteen (14) days of purchase (the 'cooling-off' period). However, if the user begins using premium features before this withdrawal period ends, users acknowledge they forfeit their right to refund such services. Refunds are not applicable once full access or usage of premium features has been initiated.\n\nFor purchases made through the App Store or Google Play, refund requests must comply directly from the platform in accordance with:\n- Apple AppStore.com policies.\n- Google Play refund policies.\n\nWATOWEAR does not process duplicate refunds for purchases already refunded by these marketplaces.\n\nIn cases of unauthorized or mistaken billing actions, contact contact@WATOWEAR.com with full transaction details and evidence (purchase receipt). WATOWEAR reserves the right to review and process legitimate claims only.\n\n4.5. Promotions, Discounts, and Trials\n\nFrom time to time, WATOWEAR may offer free trials, promotional pricing, or discount campaigns. These are time-bound benefits and conditions specific to the promotion. Free trials automatically convert into paid plans unless canceled prior to the end of the trial.\n\nWATOWEAR reserves the right to modify or terminate promotional offers at any time, without notice, unless prohibited by law."
                            :
                        controller.current.value == 4
                            ?
                        "Section 5: Limitations of Liability and Disclaimers\n\n5.1. General Disclaimer of Warranties\n\nThe WATOWEAR application and all services, content, and features provided through it are offered “as is” and “as available,” without warranties of any kind, either express or implied, including but not limited to warranties of merchantability, fitness for a particular purpose, non-infringement, reliability, accuracy, or performance.\n\nWhile WATOWEAR makes every reasonable effort to ensure the quality, reliability, and functionality of its services, we do not guarantee that:\n- The app will be uninterrupted, timely, secure, or error-free.\n- The recommendations will be accurate, flattering, or reflect every user’s fashion goals.\n- The software or algorithms will deliver outfit suggestions or wardrobe matches without occasional mismatches.\n- Any displayed information will be fully reflective of the actual price or adherence to individual stylistic metrics.\n\nNo advice or information, whether oral or written obtained by users from WATOWEAR through the app shall create any warranty not expressly stated in these terms.\n\n5.2. Limitation of Liability\n\nTo the maximum extent permitted by law, WATOWEAR, its directors, officers, employees, agents, contractors, suppliers, licensors, and affiliates shall not be liable for any indirect, incidental, consequential, or punitive damages, including but not limited to loss of profits, lost data, emotional styling dissatisfaction, wardrobe misfit, downtime, or damages arising from interruptions of app operations or inability to use the app.\n\nWATOWEAR shall not be liable for:\n- User’s reliance on the styling suggestions.\n- Inaccuracies in AI recommendations or third-party vendors.\n- Damages caused by misuse of data or content by other users.\n- Unauthorized access to or alteration of your data.\n- The service or content of third parties on or linked through the app.\n\nIn jurisdictions where certain exclusions or limitations of liability are not permitted, WATOWEAR’s liability shall be limited to the minimum extent allowed by applicable law.\n\n5.3. AI and Recommendation Limitations\n\nWATOWEAR uses automated decision systems and hybrid recommendation algorithms, including third-party AI technologies (e.g., OpenAI, Google, or equivalent API systems) to deliver outfit recommendations based on user input and wardrobe data. While these recommendations are designed for inclusivity and fairness, users acknowledge that:\n- AI-driven recommendations may not always be appropriate, flattering, or accurate.\n- The app is not a substitute for personal, cultural, or physical styling nuance.\n- The system cannot be responsible for evaluating and applying any psychological reasoning.\n- Styling suggestions do not constitute or replace professional advice, image consulting, therapeutic guidance, or medical advice.\n\nWATOWEAR disclaims any liability for decisions made by users based on recommendations, including purchases, outfit choices, financial outcomes resulting from their decisions or purchases, or wardrobe adjustments.\n\n5.4. Third-Party Content and Transactions\n\nWATOWEAR may contain links to third-party websites, services, or content (collectively “Third-Party Content”) for user convenience. WATOWEAR does not endorse, control, or assume responsibility for any Third-Party Content, products, services, or materials. WATOWEAR assumes no liability for the availability, accuracy, reliability, or safety of goods purchased through such links.\n\nAll transactions conducted through third-party platforms are governed by their respective terms and conditions. WATOWEAR shall not be liable for any transaction-related issue, including but not limited to shipping delays, product defects, non-fulfillment, or refund delivery failures.\n\nUsers are encouraged to review the applicable terms, privacy policies, and refund policies of any third-party service they interact with.\n\n5.5. Security and Data Loss\n\nWhile WATOWEAR takes all commercially reasonable steps to safeguard user data, including the use of cloud encryption, authenticated requests, and secure servers, data transmitted via the internet or stored on devices remains subject to potential risks beyond WATOWEAR’s control.\n\nYou acknowledge that any content you upload, transmit, or store within the app is done at your own risk. WATOWEAR shall not be liable for any loss, corruption, or disclosure of data due to factors outside WATOWEAR’s reasonable control, including but not limited to equipment malfunction, software failure, unauthorized access, or external events beyond our control."
                            :
                        controller.current.value == 5
                            ?
                        "Section 6: Termination, Account Deletion, and Suspension\n\n6.1. Termination by the User\n\nUsers may terminate their use of the WATOWEAR application at any time by:\n- Deleting the app from their devices.\n- Managing their app permissions or subscriptions via their app store settings.\n- Deleting their registered account by completing in-app account deletion steps.\n\nUpon receiving a valid deletion or in-app submission request, WATOWEAR will permanently delete user account information, wardrobe uploads, profile data, and personalized records, in accordance with data retention and deletion policies. Users who terminate their account will lose access to all historical outfits, style analytics, or saved looks. Deleted accounts cannot be restored once final deletion is confirmed by the user.\n\nPlease note: Termination of the account does not automatically cancel any ongoing subscriptions through Apple App Store or Google Play. These must be canceled directly via those platforms to avoid continued billing.\n\n6.2. Termination or Suspension by WATOWEAR\n\nWATOWEAR reserves the right to suspend or terminate a user's access without prior notice temporarily or permanently under the following circumstances:\n- Violation of these Terms and Conditions, including misuse of service or harmful behavior.\n- Non-payment of fees or subscription dues.\n- Suspected breach of WATOWEAR safety policies or security incidents.\n- Repeated or direct user reports flagging abusive conduct, harassment, or spamming.\n- Development of fraudulent profiles, proxy or fake application use, or breach of WATOWEAR’s community standards.\n- Attempting to manipulate system data, algorithms, or styling outputs through automated or unauthorized means.\n\nWATOWEAR may suspend such access with or without prior notice, depending on the nature of the violation. Termination for cause is final, and the company reserves the right to deny new registration where prior violations or misconduct have been verified.\n\nWATOWEAR shall not be liable for any loss of wardrobe content, fashion analytics, styling data, or user-generated content following suspension and/or termination.\n\n6.3. Data Retention Following Account Deletion\n\nUpon deletion or termination of an account, WATOWEAR will retain user data only as long as required by law or regulatory compliance obligations (e.g., billing or tax retention periods).\n\n- User data relating to active transactions, invoices, or payments will remain stored for the legally required duration.\n- If you have made any purchases within the app (e.g., lookbooks, closet packs, or other premium items), transaction logs will be retained for tax and audit compliance even after deletion.\n- Residual anonymized user analytics may be maintained to improve recommendation accuracy without identifying individuals.\n\nAll personal data will be deleted or anonymized within a maximum period of 60 working days following verified WATOWEAR account deletion or termination.\n\nSection 7: Changes to Terms and Services\n\n7.1. Modifications to the Application and Features\n\nWATOWEAR is continuously evolving, and the company reserves the right to introduce, remove, or modify any app feature (including layout, UI, algorithms, or partnerships) without prior notice if such modification is required for performance, efficiency, legal compliance, feature improvement, or other legitimate purposes under applicable law.\n\nWe may introduce new tools, functionalities, design systems, or restructured membership models (including paid tiers and premium features) that change how the product is offered. These updates are considered part of the ongoing evolution of WATOWEAR and governed by these Terms. Such changes may occur on an individual user or global basis, depending on usage metrics and testing schedules. Users accept that WATOWEAR may periodically evolve the application or the recommendation system.\n\n7.2. Changes to These Terms\n\nWATOWEAR reserves the right to update or revise these Terms and Conditions at any time for compliance with regulatory, operational, or legal requirements. All changes will be posted within the application or official website, clearly dated to reflect the effective version.\n\nUsers are encouraged to review these Terms periodically. If you do not agree with any modifications, your sole remedy is to discontinue use of WATOWEAR. Continued usage following any change constitutes acceptance of the revised Terms.\n\nSection 8: Governing Law and Dispute Resolution\n\n8.1. Governing Law\n\nThese Terms and any disputes arising out of or relating to them are governed by the laws of the user’s country of residence and, where applicable, the European Union (EU) General Data Protection Regulation (GDPR). Users may benefit from mandatory consumer protection laws that cannot be excluded by agreement under applicable jurisdiction.\n\n8.2. Dispute Resolution Process\n\nBefore initiating any legal proceedings, the user agrees first to attempt to resolve any issue informally with WATOWEAR’s support or legal compliance department by emailing contact@watowear.com. The company will respond to all complaints in a timely and fair manner.\n\nIf the dispute cannot be resolved amicably within thirty (30) days, the parties may refer the matter to competent courts under the jurisdiction of the applicable governing law.\n\n8.3. Alternative Dispute Resolution (EU Only)\n\nIn adherence with EU Regulation No. 524/2013, users in the EU can initiate online dispute resolution (ODR) via the EU ODR platform at: https://ec.europa.eu/consumers/odr"
                            :
                        "",
                      ),

                      controller.current.value < 5 ? GestureDetector(
                          onTap: () {
                            controller.nextTnC(controller.current.value);
                          },
                          child: Icon(
                            Icons.arrow_forward_ios,
                            size: 20.r,
                            color: Color(0xFF111111),
                          ),
                        ) : SizedBox(width: 14.w,),
                    ],
                  );
                }),
              ),

              SizedBox(height: 50.h,)
            ],
          ),
        ),
      ),
    );
  }
}


class TnCText extends StatelessWidget {
  final String text;

  const TnCText({
    required this.text,
    super.key
  });

  @override
  Widget build(BuildContext context) {
    return Container(
      width: 370.w,
      padding: EdgeInsets.symmetric(horizontal: 10.w, vertical: 20.h,),
      decoration: BoxDecoration(
        border: Border.all(
          color: Color(0xFFDADADA),
        ),
      ),
      child: Text(
        text,
        style: TextStyle(
          color: Colors.black,
          fontFamily: 'Comfortaa',
          fontWeight: FontWeight.w500,
          fontSize: 10.sp,
        ),
      ),
    );
  }
}
